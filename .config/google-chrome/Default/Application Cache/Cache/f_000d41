cd.prototype.extend=W(1,function(a){for(var b=0;b<arguments.length;b++)Ac(arguments[b],function(a,b){this.add(b,a)},this)});function HZa(a){Yc(a);a.Ul.remove("userstoinvite");return a}ZM("appsshare");function IZa(){return'<div class="shared-parent-change"><span class="shared-parent-change-desc">Some settings cannot be changed because they are inherited from a shared folder.</span><span>[<span class="shared-parent-change-link" role="link">Change</span>]</span></div>'};function t$(a){this.sc=a;this.Xc=void 0}t$.prototype.Ta=function(){return this.sc};t$.prototype.setData=function(a){this.Xc=a};t$.prototype.nb=function(){var a={};a["shsc-type"]=this.sc;a["shsc-data"]=this.Xc;return yd(a)};function JZa(a){t$.call(this,"shsc-set-visible");this.setData(a)}w(JZa,t$);JZa.prototype.aa=function(){return this.Xc};function u$(a){t$.call(this,"shsc-set-ids");this.setData(a)}w(u$,t$);u$.prototype.C$=function(){return this.Xc};function v$(a,b,c){x.call(this);this.nHa=a;this.QDa=b||null;this.FWa={};this.bk={};this.I=new G(this);y(this,this.I);this.I.listen(c||m.window,"message",this.Dl)}w(v$,x);v$.prototype.sendMessage=function(a){this.QDa&&this.QDa.postMessage(a.nb(),this.nHa)};v$.prototype.Dl=function(a){a=a.Gb;if(a.origin==this.nHa){var b=a.data?wd(a.data):{};a=b["shsc-type"];var b=b["shsc-data"],c=this.FWa[a];if(c){var d=null;try{d=c(b)}catch(f){}d&&A(this.bk[a],function(a){a.call(null,d)})}}};
function KZa(a,b){a.FWa[b]=LZa(b);a.bk[b]||(a.bk[b]=[])}function LZa(a){return function(){return new t$(a)}}function MZa(a,b,c){var d=a.bk[b];d||(d=[],a.bk[b]=d);d.push(c)};function w$(a,b,c){R.call(this,c);this.Jc=a;this.pia=b;this.pfa=!1;this.tc=[];this.YKa=!1;this.nF=new v$(this.pia,void 0,this.D().getWindow());KZa(this.nF,"shsc-ready");KZa(this.nF,"shsc-close");MZa(this.nF,"shsc-ready",r(this.nkb,this));MZa(this.nF,"shsc-close",r(this.Beb,this))}w(w$,R);w$.prototype.F=function(){this.Q=yg("iframe",{style:"display: none; background-color: transparent; position: absolute; top: 0; left: 0; z-index: 1006",src:this.Jc,onload:r(this.Zgb,this),XIb:0,height:"100%",width:"100%"})};
w$.prototype.Zgb=function(){var a=this.A().contentWindow;this.nF.QDa=a};w$.prototype.nkb=function(){this.pfa=!0;var a=this.tc;this.tc=a;this.pfa&&this.nF.sendMessage(new u$(a));NZa(this,this.YKa)};w$.prototype.Beb=function(){P(this.A(),!1);this.dispatchEvent("Bg");this.dispatchEvent("Cg")};function NZa(a,b){a.YKa=b;a.pfa&&(P(a.A(),b),a.nF.sendMessage(new JZa(b)))};function OZa(a){R.call(this,a)}w(OZa,R);function x$(a){R.call(this,a)}w(x$,OZa);x$.prototype.Yg=function(a){var b=this.A();b&&(b.style.width=a+"px")};x$.prototype.getHeight=function(){var a=this.A();return a?go(a).height:0};function y$(a){R.call(this,a);this.yB=new w$("/modifyparentsremove",this.D().getWindow().location.origin);this.U(this.yB)}w(y$,x$);e=y$.prototype;e.hc=function(){return!1};e.F=function(){this.Q=Q(IZa);this.Yp=this.D().W("shared-parent-change-link",this.A());this.yB.F()};e.L=function(){y$.B.L.call(this);Vg(this.Yp,!0);this.N().rb(this.Yp,zn,this.Ehb);this.N().listen(this.Yp,"keypress",this.Hhb);this.D().qa().body.appendChild(this.yB.A());this.N().listen(this.yB,"Bg",this.Sn)};
e.Sn=function(){this.na&&this.Yp.focus()};e.Ehb=function(){NZa(this.yB,!0)};e.Hhb=function(a){13==a.keyCode&&a.stopPropagation()};function z$(a,b){x.call(this);this.GCa=a;this.yB=b;this.I=new G(this);y(this,this.I);this.I.listen(this.yB,"Cg",this.Fsa);this.I.listen(this.GCa,["uiOpened","aclInfoUpdated"],this.uyb)}w(z$,x);z$.prototype.uyb=function(){var a=this.GCa.eg;if(a){var b=this.yB;b.tc=a;b.pfa&&b.nF.sendMessage(new u$(a))}};z$.prototype.Fsa=function(){this.GCa.kt("refresh")};function A$(a,b,c,d,f,g){this.uRa=a;this.Xi=b;this.vT=c;this.$g=d;this.AA=f||null;this.j1a=g||null}A$.prototype.getMessage=function(){return this.Xi};A$.prototype.FD=function(){return this.AA};A$.prototype.nb=function(){var a={};a.iconId=this.uRa;a.learnMoreUrl=this.FD();a.message=this.getMessage();a.showInDialog=this.vT;a.timeout=this.$g;a.undoFn=this.j1a;return a};function B$(a,b){R.call(this,b);this.yd=a}w(B$,R);B$.prototype.sc="info";B$.prototype.Awa=!1;var PZa={info:"jfk-butterBar-info",error:"jfk-butterBar-error",warning:"jfk-butterBar-warning",promo:"jfk-butterBar-promo"};e=B$.prototype;e.Ta=function(){return this.sc};e.wq=function(a){this.ma()&&xn(this.A(),PZa[this.sc],PZa[a]);this.sc=a};e.Tb=function(a){this.yd=a;if(a=this.A()){var b=this.D();b.Wd(a);b.append(a,this.yd)}};e.aa=function(){var a=this.A();return null!=a&&rn(a,"jfk-butterBar-shown")};
e.O=function(a){vn(this.A(),"jfk-butterBar-shown",a)};e.F=function(){this.Q=this.D().F("div","jfk-butterBar");var a=this.A();a&&(kn(a,"live","assertive"),kn(a,"atomic","true"));this.Tb(this.yd);this.Awa=this.Awa;(a=this.A())&&vn(a,"jfk-butterBar-mini",this.Awa);this.wq(this.sc)};function QZa(a,b){this.jo=a;this.ga=b||lg();this.Vy=null;this.vT=!1;this.gM=0}w(QZa,x);
function RZa(a,b,c){var d,f=b.uRa;switch(f){case "copy":d="share-butter-copy-icon";break;case "specificPeople":d="share-butter-specific-people-icon";break;case "personLink":d="share-butter-person-link-icon"}a.Vy&&a.Hza();var g=a.ga,h=g.F("SPAN");d&&"none"!=f&&(d=g.F("SPAN",["apps-share-sprite","share-butter-icon",d]),g.append(h,d));d=g.F("SPAN","share-butter-message",b.getMessage());g.append(h,d);if(d=b.FD())d=g.F("A",{target:"_blank",href:d,"class":"share-butter-link",tabIndex:"0"},"Learn more"),
g.append(h,"\u00a0","\u00a0"),g.append(h,d);var k=b.j1a;k&&(d=g.F("SPAN",{"class":"share-butter-link",tabIndex:"0"},"Undo"),d.onclick=function(){k();this.onclick=ea},g.append(h,"\u00a0","\u00a0"),g.append(h,d));a.Vy=g.F("DIV",["share-butterbar-container","share-butterbar-top","share-butterbar-zindex"]);h=new B$(h,g);h.render(a.Vy);kn(h.A(),"live","off");h.O(!0);a.vT=b.vT;g.appendChild(a.vT&&c?c:document.body,a.Vy);SZa(a,a.Vy,c);a.gM=window.setTimeout(r(a.Hza,a),b.$g)}
QZa.prototype.Hza=function(){this.Vy&&(Hg(this.Vy),this.Vy=null,delete this.Vy,window.clearTimeout(this.gM))};function SZa(a,b,c){var d=parseInt(Ln(b,"width"),10);if(a.vT&&c){var f=parseInt(Ln(c,"left"),10),g=parseInt(Ln(c,"top"),10);c=parseInt(Ln(c,"width"),10);var h=parseInt(Ln(b,"height"),10);On(b,f+(c-d)/2,a.jo?0:g+h/2)}else b.style.left="50%",b.style.marginLeft=-(d/2)+"px"};function C$(a){kt.call(this,void 0,!1,a);tt(this,!1);this.s9=!0;this.dc(null);Ct(this,"")}w(C$,kt);C$.prototype.O=function(a){var b=this.A(),c=this.D();vn(b,"share-client-offscreen",!a);a!=this.Uda&&pt(this,a);a?(this.kc(),C$.B.O.call(this,!0)):(b.style.right="",b.style.left="",b.style.top="");for(var c=dh(c,"iframe",null,this.ma()),d=0;d<c.length;d++)c[d].tabIndex=a?"0":"-1";b.tabIndex=a?"0":"-1";this.Yd.tabIndex=a?"0":"-1";b.setAttribute("aria-hidden",!a);a||this.dispatchEvent("Dg")};
C$.prototype.L=function(){C$.B.L.call(this);var a=CBa(this);a&&kn(a,"hidden",!0)};function D$(a){H.call(this);this.ga=a||lg()}w(D$,H);e=D$.prototype;e.aI=null;e.I=null;e.bc=!1;e.ka=function(){return this.I||(this.I=new G(this))};e.D=function(){return this.ga};e.init=function(){this.jc()||(this.Oba(),this.bc=!0)};e.jc=function(){return this.bc};e.Zfb=function(){this.dispatchEvent("errorHidden")};e.$fb=function(){this.dispatchEvent("errorShown")};
e.uT=function(a,b){var c=this.aI;a&&(c||(this.aI||(c=new kt(void 0,!0,this.D()),c.render(),c.dc(ut(new qt,wt,!0,!0)),c.setTitle(""),this.ka().listen(c,"hide",this.Zfb).listen(c,"show",this.$fb),Ct(c,wt.key),N(c.A(),"share-client-error-dialog"),this.aI=c),c=this.aI),mt(c,ie(b||"")));c&&c.O(a)};e.H=function(){z(this.aI);z(this.I);D$.B.H.call(this)};e.Oba=ea;e.OZa=ea;e.V9=ea;function E$(a){D$.call(this,a);this.gb=new C$(a);this.ka().listen(this.gb,"dialogselect",this.mh).listen(this.gb,"Dg",this.XI);this.pSa=!1;this.wla=new QZa(!1,a);y(this,this.wla)}w(E$,D$);e=E$.prototype;e.Tva=null;e.mh=function(){this.O(!1);this.dispatchEvent("uiContainerClose");return!1};e.XI=function(){this.dispatchEvent("uiContainerClose")};e.mfb=function(a){this.TCa(a.target)&&(this.gb.A().blur(),this.gb.A().focus())};e.TCa=function(a){return Qg(this.gb.A(),a)};
e.Oba=function(){var a=this.gb;a.na||a.render();N(a.A(),"share-client-dialog");this.ka().listen(a.A(),"click",this.mfb);P(a.A(),!0);this.O(!1)};e.aa=function(){return this.pSa};e.O=function(a){var b=this.gb;b.na||this.init();b.O(a);this.pSa=a;this.wla.Hza()};
e.OZa=function(a){var b=this.Tva;a&&!b&&(b=new kt(void 0,!0,this.D()),mt(b,T('<div class="share-client-loading-contents"><div class="share-client-spinner"> </div></div>').NB()),b.dc(null),b.setTitle("Loading..."),this.ka().listen(b,"hide",this.Qhb),this.Tva=b,b.render(),N(b.A(),"share-client-loading-dialog"));b&&b.O(a)};e.V9=function(){this.gb.focus()};e.Qhb=function(){this.dispatchEvent("uiContainerCancelLoad")};e.Tb=function(a){mt(this.gb,a)};
e.setTitle=function(a,b){var c=dh(this.D(),"IFRAME",void 0,this.gb.ma());0<c.length&&(c[0].title=a);vn(LM(this.gb),"share-client-dialog-hidden-title",b);this.gb.setTitle(b?"":a)};e.resize=function(a,b){var c=this.gb.ma();c.style.width=a+"px";c.style.height=b+"px";this.BF();D&&(c=vg(document),tc(8)&&c||(c=c?0:18,this.gb.A().style.width=a+c+"px"))};e.BF=function(){var a=ug().height;if(a){var b=this.gb.A(),c=go(b).height;if(0<Un(b).y+c-a){var d="fixed"==Nn(b)?0:fh(this.D()).y;O(b,"top",a-c+d+"px")}}};
e.H=function(){z(this.gb);z(this.Tva);E$.B.H.call(this)};function F$(a){E$.call(this,a);this.Sj={}}w(F$,E$);var G$={RBb:"bottom",$Db:"top"};e=F$.prototype;e.yd=oe;e.g_a=!0;e.ML=null;e.Iha=null;e.TV=null;e.g0a="";e.Wf="";
e.Oba=function(){F$.B.Oba.call(this);var a=this.D(),b=this.gb.ma(),c=a.F("div"),d=a.F("div");kg(d,this.yd);d.className="share-client-panel-dialog-share";var f={},g;for(g in G$)g=G$[g],f[g]=a.F("div");a.appendChild(b,f.top);a.appendChild(b,c);a.appendChild(b,d);a.appendChild(b,f.bottom);this.ML=d;c.className="share-client-panel-dialog-overlay";this.Iha=c;this.g_a=a=this.g_a;if(b=this.Iha){if(!a){var c=go(this.ML),d=c.height,h=this.Iha;h.style.width=c.width+"px";h.style.height=d+"px"}P(b,!a);io(this.ML,
a?1:.5)}this.TV=f;for(g in G$)g=G$[g],f[g].className="share-client-panel-dialog-component-"+g,(a=this.Sj[g])&&a&&g&&a.render(this.TV[g])};e.O=function(a){F$.B.O.call(this,a);a&&this.gb.focus()};e.setTitle=function(a,b){this.Wf=a;this.g0a&&(a=a+" - "+this.g0a);F$.B.setTitle.call(this,a,b)};e.Tb=function(a){this.yd=a;this.ML&&kg(this.ML,a)};e.TCa=function(a){if(!F$.B.TCa.call(this,a))return!1;for(var b in G$)if(b=G$[b],Qg(this.TV[b],a))return!1;return!0};
e.WAa=function(a,b){var c=this.Sj[b];this.Sj[b]=a;this.ka().listen(a,"resize",this.ak);this.jc()&&a&&b&&a.render(this.TV[b]);return c?(c.Pa(),c.A()&&Hg(c.A()),c):null};e.ak=function(){var a=go(this.ML);this.resize(a.width,a.height)};e.resize=function(a,b){var c=this.ML;c.style.width=a+"px";c.style.height=b+"px";c=this.Iha;c.style.width=a+"px";c.style.height=b+"px";var c=0,d;for(d in G$){d=G$[d];var f=this.Sj[d];!f||"top"!=d&&"bottom"!=d||(f.Yg(a),c+=f.getHeight())}F$.B.resize.call(this,a,b+c)};
e.H=function(){for(var a in G$)a=G$[a],z(this.Sj[a]);this.TV=this.Sj=null;F$.B.H.call(this)};function TZa(){this.N9a=this.GC("share-email-attachment","Email as attachment...");this.O9a=this.GC("share-email-collaborators","Email collaborators...");this.cs=this.GC("share-share","Share...")}var H$=null;TZa.prototype.GC=function(a,b){var c={};c.label=b;c.visible=!0;c.hint=b;return new mr(a,c)};function I$(a){x.call(this);this.oja=a.userRole||0;this.VQ=null!=a.maxAnyoneRole?a.maxDomainRole:30;this.WQ=null!=a.maxAnyoneRole?a.maxDomainRole:30;this.L9a=!!a.editorsCanInvite;this.zrb=a.numSharedUsers||0;this.hG=!!a.sharingDisabled;this.gBb=a.userDomain||Gj;var b=a.itemDomains;this.ipb=ab(ha(b)?b:[b||null],function(a){return a||Gj});b=a.sharingPolicies;b=ha(b)?b:[b||null];this.Uyb=ab(b,function(a){return a||ufa});this.$oa=!!a.exportable;this.AM=a.visibilitySetting||null;this.Xx=a.shareableUrl||
null;this.Xza=!!a.requestShareEnabled}w(I$,x);e=I$.prototype;e.Vw=function(){return this.oja};e.E$=function(){return this.L9a};e.Gqa=function(){return this.zrb};e.jra=function(){return this.gBb};e.yqa=function(){return this.ipb};e.Al=function(){return this.AM};e.mT=function(a){this.AM=a};
e.nb=function(){var a={};a.userRole=this.Vw();a.editorsCanInvite=this.E$();a.numSharedUsers=this.Gqa();a.sharingDisabled=this.hG;a.userDomain=this.jra().nb();a.itemDomains=ab(this.yqa(),function(a){return a.nb()});a.sharingPolicies=ab(this.Uyb,function(a){return a.nb()});a.maxAnyoneRole=this.VQ;a.maxDomainRole=this.WQ;a.exportable=this.$oa;this.Al()&&(a.visibilitySetting=this.Al().nb());a.shareableUrl=this.Xx;a.requestShareEnabled=this.Xza;return a};
function UZa(a){a=Vb(a);var b=a.userDomain;b&&(a.userDomain=Cj(b));b=a.itemDomains;b=ha(b)?b:[b||null];a.itemDomains=ab(b,function(a){return a?Cj(a):a});b=a.sharingPolicies;b=ha(b)?b:[b||null];a.sharingPolicies=ab(b,function(a){return a?new Wj(!!a.canPublishOut):a});(b=a.visibilitySetting)&&(a.visibilitySetting=ak(b));return new I$(a)};function J$(a,b){x.call(this);this.Ee=a;this.pia=b;this.$ea=[];this.gUa=r(this.Dl,this);window.addEventListener("message",this.gUa,!1);this.bk=new C}w(J$,x);J$.prototype.Dl=function(a){if(a.origin==this.pia){try{var b=wd(a.data)}catch(c){return}var d=b.args;if(b=this.bk.get(b.type))this.Ee=a.source,this.$ea&&(A(this.$ea,function(a){this.sendMessage(a.Aqb,a.nub)},this),this.$ea=[]),b.call(null,d)}};J$.prototype.bj=function(a,b,c){this.bk.set(a,r(b,c))};
J$.prototype.sendMessage=function(a,b){if(this.Ee){var c={};c.type=a;b&&(c.args=b);this.Ee.postMessage(yd(c),this.pia)}else this.$ea.push({Aqb:a,nub:b})};J$.prototype.H=function(){window.removeEventListener("message",this.gUa,!1)};function K$(a,b,c,d,f,g,h,k,n,q,t,v,B,E,aa){H.call(this);this.At=a;this.Xh=t||new E$(d);this.nxa=v||window;(a=f)?a.Od()&&a.Yf(new ix(d),0,!0):(a=hx.X(),a=new jx(d,a));d=a.A();d||(a.F(),d=a.A());N(d,"goog-menu-noaccel");this.T3a&&a.O(!1);this.NL=a;d=Qq.X();(this.Xva=new ex(this.I3a,void 0,void 0,d)).setEnabled(!1);(this.Jha=new ex(this.J3a,void 0,void 0,d)).setEnabled(!1);this.Yga=b;this.d$=c;this.Qyb=q||b;this.di=new I$({});this.ga=a.D();this.Gf=k||null;this.mvb=p(n)?n:!0;this.f_a=new AV;a:switch(h||
"classic"){case "classic":b=1;break a;case "stjw":case "jfk":b=Math.max(1,2);break a;default:throw Error("Unknown share UI");}this.oq=b;this.Hg=E||null;this.O4=!!B;this.wLa=B||null;this.Ryb=aa||null;this.CHa=null;this.CHa=this.ga.A("docs-aria-speakable");this.O4||VZa(this,this.nxa);B=WZa(this);B.listen(a,"show",this.dib);B.listen(a,"action",this.uQa);B.listen(this.Xh,"uiContainerCancelLoad",this.Lhb);B.listen(this.Xh,"uiContainerClose",this.smb);B.listen(this.Xh,"errorHidden",this.tmb);B.listen(this.Xh,
"errorShown",this.Rsa)}w(K$,H);e=K$.prototype;e.o3a=!1;e.T3a=!0;e.Z3a=!0;e.Sia=null;e.xV=null;e.Gh=null;e.Ay=!1;e.OL=!1;e.v9=null;e.kT=null;e.xYa=null;e.I=null;e.eg=null;e.Wba=!1;e.Nba=null;e.eFa=!1;e.BM=!1;e.vv=!1;e.JTa=!1;e.VN=null;e.iea=0;e.GLa=!1;e.xe=null;e.Wca=0;e.ECa=null;e.LL=null;e.JCa=!1;e.vwb=!1;e.QZ=!1;e.$Ra=!1;e.I3a="Loading...";e.J3a="Sharing is unavailable at this time. Please try again later.";e.K3a="Sorry, sharing is unavailable at this time. Please try again later.";e.Vs=null;
function VZa(a,b){a.O4||(b.SC_setTitle=r(a.XZa,a),b.SC_resize=r(a.Xh.resize,a.Xh),b.SC_setVisible=r(a.YZa,a),b.SC_prepareForVisible=r(a.dza,a),b.SC_setAclInfo=r(a.zZa,a),b.SC_setClientModel=r(a.zZa,a),b.SC_dispatchEvent=r(a.XC,a),b.SC_handleError=r(a.Tf,a),b.SC_handleCommandComplete=r(a.EPa,a),b.SC_setExecuteCommandFn=r(a.hyb,a),b.SC_setSetShareSystemVisibleFn=r(a.tyb,a),b.SC_setGetInterfaceVersionNumberFn=r(a.jyb,a),b.SC_getVersionNumber=r(a.Ecb,a),b.SC_rewriteUrl=r(a.gxb,a),b.SC_showNotification=
r(a.ezb,a),b.SC_getAriaLiveRegion=r(a.Ebb,a))}
function XZa(a){if(a.O4&&!a.Vs){var b=ad(a.Gh.clone().Yl("").Bg(""),"").toString();a.Vs=new J$(null,b);a.Vs.bj("handleCommandComplete",function(a){this.EPa(a.commandType,a.commandStatus)},a);a.Vs.bj("resize",function(a){this.Xh.resize(a.width,a.height);this.Vs.sendMessage("resizeComplete")},a);a.Vs.bj("prepareForVisible",function(){this.dza();this.Vs.sendMessage("makeBodyVisible");this.Vs.sendMessage("prepareComplete")},a);a.Vs.bj("setVisible",function(a){this.YZa(a.visible)},a);a.Vs.bj("setTitle",
function(a){this.XZa(a.title,a.hidden)},a);a.v9=r(function(a){this.Vs.sendMessage("executeCommand",{commandType:a})},a)}}function YZa(a){var b={};b.impressionType=a;return b}e.UF=function(a){if(this.Gh)throw Error("Base uri has already been set and cannot be set again.");ja(a)&&(a=new Wc(a));this.Gh=a;this.O4&&XZa(this)};e.Ecb=function(){return 2};
e.zZa=function(a){var b=this.di;this.di=UZa(a);this.Ay&&b.Xx!=this.di.Xx&&(this.JCa=!0);this.Ay=!0;this.BM=!1;L$(this);a=this.di;this.iea=xV(this.ga).length;fKa(this.NL,a.Vw(),a.hG,ZZa(this),a.$oa&&this.GLa,this.eg.length,this.ga,a.Xza,!!a.Xx);this.XC("menuUpdated");this.nEa();this.LL&&this.LL.mT(this.di.Al());this.XC("aclInfoUpdated")};
e.dib=function(){if(this.eg&&this.eg.length)this.Ay?$Za(this):(this.NL.aa()||this.NL.O(!0,!0),this.Tia(!0));else{L$(this);for(var a=xV(this.ga),b=a.length-1;0<=b;b--)M$(this,a[b])}};e.Tf=function(a,b){switch(a){case "init":L$(this);if(b){var c=Qq.X(),c=new ex(Cg(document,b),void 0,void 0,c);c.setEnabled(!1);M$(this,c)}else M$(this,this.Jha);this.Ay=this.QZ=!0}};
e.EPa=function(a,b){var c="success"==b;switch(a){case "init":a_a(this);break;case "init_share":case "data":a:{c&&(this.Wca=u()),this.vv=!1;var d=this.VN,f=this.iW;if(this.Wba)if(this.Wba=!1,this.eg=this.JYa,delete this.JYa,this.VN=null,delete this.iW,delete this.Z7,c){if(d){f.itemIds=this.eg;b_a(this,d,f);break a}}else"maybe_show_acl_fixer"==d&&c_a(this);N$(this,!1);d&&(c?(c=r(this.Xoa,this,d,this.iW,this.Z7),I(c,10,this)):"maybe_show_acl_fixer"==d&&c_a(this),this.VN=null,delete this.iW,delete this.Z7)}}};
e.jyb=function(){};e.hyb=function(a){this.OL=!0;this.v9=a};e.tyb=function(a){this.kT=a};e.gxb=function(a){return this.xYa?this.xYa(a):a};e.ezb=function(a){var b=this.Xh;RZa(b.wla,new A$(a.iconId,a.message,a.showInDialog,a.timeout,a.learnMoreUrl,a.undoFn),b.gb.A())};e.XZa=function(a,b){this.Xh.setTitle(a,b)};e.Vw=function(){return this.di.Vw()};e.E$=function(){return this.di.E$()};e.jra=function(){return this.di.jra()};e.yqa=function(){return this.di.yqa()};e.Gqa=function(){return this.di.Gqa()};
function ZZa(a){var b=a.di.Vw();return a.di.hG?!1:40==b||30==b&&a.di.E$()}e.Al=function(){return this.di.Al()};e.mT=function(a){this.di.mT(a);this.LL&&this.LL.mT(this.di.Al())};e.Ebb=function(){return this.CHa};
e.Tia=function(a,b,c){this.eg&&!hb(this.eg)&&(this.Xh.aa()?this.Sia=r(this.Tia,this,a,b):(a&&(L$(this),M$(this,this.Xva),I(this.s7a,1E4,this)),this.BM||(this.OL?(this.BM=!0,d_a(this,c,!0)):(this.BM=!0,this.o3a?(this.vv=!0,e_a(this,!0)):(this.eFa=!0,b=this.Nba,b||(b=yg("iframe"),b.src='javascript:""',c=b.style,c.visibility="hidden",c.width=c.height="10px",nc?c.marginTop=c.marginLeft="-99px":(c.position="absolute",c.top=c.left="-10px"),document.body.appendChild(b),this.Nba=b),b.src=f_a(this,"init"),
I(this.q7a,25E3,this),a&&$Za(this))))))};function $Za(a){if(a.Z3a&&!a.QZ)if(a.vv||a.OL){var b;if(b=a.OL)b=2E4<u()-a.Wca;b&&(a.vv=!0,d_a(a,void 0,!0))}else a.vv=!0,e_a(a,!0)}function e_a(a,b){var c={};c.preload=!!b;c=a.Gh&&f_a(a,"init_share",c);c=T('<iframe frameborder="0" src="'+(c?U(bq(c)):"javascript:&quot;&quot;")+'" class="share-client-content-iframe"></iframe>').NB();a.Xh.Tb(c);b||N$(a,!0);a.dza()}function d_a(a,b,c){b=b||{};b.itemIds||(b.itemIds=a.eg);a.Xoa("data",b,void 0,c)}
function L$(a){for(var b=a.NL,c=a.iea,d=0;d<c;d++)b.zF(0,!0);a.iea=0;a.XC("menuUpdated")}function M$(a,b){b.getParent()||(a.NL.Yf(b,0,!0),a.iea++,a.XC("menuUpdated"))}function WZa(a){return a.I||(a.I=new G(a))}
function f_a(a,b,c){if(!a.Gh)return'javascript:""';var d=a.Gh.clone();ed(d,"id",a.eg);ed(d,"foreignService",a.Yga);ed(d,"gaiaService",a.d$);ed(d,"shareService",a.Qyb);ed(d,"shareProtocolVersion",a.oq);ed(d,"command",b);ed(d,"subapp",10);ed(d,"popupWindowsEnabled",a.mvb);ed(d,"shareUiType","default");a.Gf&&ed(d,"hl",a.Gf);ed(d,"authuser",a.At?a.At:"0");ed(d,"rand",u());c&&d.Pn().extend(c);a.O4&&ed(d,"client","postMessage");a.Hg&&ed(d,"appId",a.Hg);a.wLa&&ed(d,"embedOrigin",a.wLa);return d.toString()}
e.kt=function(a,b){b=b||{};b.itemIds=this.eg;VZa(this,this.nxa);var c=!0;switch(a){case "init":case "load_acl_fixer_data":case "maybe_email_collaborators":case "maybe_show_acl_fixer":case "preload_share":case "refresh":c=!1}switch(a){case "load_acl_fixer_data":case "maybe_show_acl_fixer":g_a(this,!0)}if(!this.OL&&this.eg&&15<this.eg.length)this.JYa=this.eg,this.eg=[this.eg[0]],this.Wba=!0,b_a(this,a,b,!c);else if("init"==a||"refresh"==a)this.Tia(!1,!0,b);else if(!this.eg||!this.eg.length)this.dispatchEvent(new h_a(r(this.kt,
this,a,b)));else if(this.dispatchEvent(new i_a)){if("invite"==a&&b.inviteFromUrl){if(this.Ay&&!ZZa(this))return;if(!this.Ay){this.BM||this.Tia(!1,!0);WZa(this).hb(this,"aclInfoUpdated",r(this.kt,this,a,b));return}}var d;if(!(d=!this.OL)&&(d=2E4<u()-this.Wca)){a:switch(d=b&&!!b.forceFullLoad,a){case "load_acl_fixer_data":case "maybe_show_acl_fixer":d=!d;break a;case "preload_share":d=!0;break a;default:d=!1}d=!d}d?(this.Wba&&c&&N$(this,!0),b_a(this,a,b,!c)):this.Xoa(a,b)}};
function b_a(a,b,c,d){a.VN=b;a.iW=c;a.Z7=(new Date).getTime();la(a.xV)&&J(a.xV);a.xV=I(a.r7a,25E3,a);a.vv||(a.vv=!0,a.OL?d_a(a,c,"load_acl_fixer_data"==b||"maybe_show_acl_fixer"==b):e_a(a,d))}e.Xoa=function(a,b,c,d){if("preload_share"!=a){b=b||{};b.itemIds||(b.itemIds=this.eg);if("maybe_show_acl_fixer"==a||"load_acl_fixer_data"==a)b.aclFixerMode=b.aclFixerMode||"mail",b.aclFixerModeInternal="mail";VZa(this,this.nxa);this.v9(a,b,c,d)}};function a_a(a){var b=a.Nba;b&&(Hg(b),a.Nba=null)}
e.q7a=function(){this.eFa&&(a_a(this),this.eFa=!1)};e.s7a=function(){this.BM&&!this.QZ&&(L$(this),M$(this,this.Jha),this.BM=!1,this.QZ=!0)};e.r7a=function(){if(this.vv){switch(this.VN){case "maybe_show_acl_fixer":c_a(this);break;case "load_acl_fixer_data":case "preload_share":break;default:this.Xh.uT(!0,this.K3a)}this.XC("loadError");j_a(this)}};e.Lhb=function(){this.JTa&&j_a(this)};function j_a(a){a.vv&&(k_a(a,!1),a.Xh.Tb(oe),a.vv=!1,N$(a,!1),a.VN=null,delete a.iW,delete a.Z7)}
function N$(a,b){a.JTa=b;var c=a.Xh;b&&c.dispatchEvent("beforeLoad");c.OZa(b);b||c.dispatchEvent("afterLoad");b&&a.Rsa()}e.uQa=function(a){switch(a.target.Z()){case "access":this.kt("access");break;case "email":this.kt("email",YZa(5));break;case "emailAttach":this.kt("email_attach",YZa(6));break;case "invite":this.kt("invite");break;case "link":this.kt("link");break;case "settings":this.kt("settings",YZa(2))}};
e.nEa=function(){var a=this.di,b=H$||(H$=new TZa),c=a.Vw(),d=this.$Ra||a.hG,f=ZZa(this),g=this.Ryb||void 0,h=1==this.eg.length,k=30<=c,c=!d&&(k||f)&&h,f=!d&&(f||k||h&&a.Xza),a=!d&&h&&a.$oa&&this.GLa;g?g.vMb(a,c,f):(b.N9a.setEnabled(a),b.O9a.setEnabled(c),b.cs.setEnabled(f))};e.YZa=function(a){a&&(this.vv=!1,N$(this,!1),this.Xh.uT(!1));k_a(this,a)};e.dza=function(){this.Xh.init()};function k_a(a,b){b&&a.Xh.init();a.Xh.O(b);b?a.Rsa():l_a(a)}
function g_a(a,b){a.$Ra=b;a.Ay?a.nEa():((H$||(H$=new TZa)).cs.setEnabled(!b),WZa(a).hb(a,"aclInfoUpdated",r(a.nEa,a)))}e.Rsa=function(){this.dispatchEvent("uiOpened")};function l_a(a){a.Sia&&(a.Sia(),a.Sia=null);if(a.JCa){a.JCa=!1;var b=a.di.Xx,c=a.di.Al();b&&c&&"unlisted"==c.dA()&&(b=new m_a(b),a.vwb?n_a(b):a.dispatchEvent(b))}a.kT&&a.kT(!1);a.dispatchEvent("uiClosed")}e.smb=function(){this.kT&&this.kT(!1)};e.tmb=function(){this.Xh.aa()||l_a(this)};
function c_a(a){g_a(a,!1);a.dispatchEvent(new O$("continue"))}e.XC=function(a,b){switch(a){case "aclFixerDone":var c="continue";b&&b.aclFixerDoneStatus&&(c=b.aclFixerDoneStatus);g_a(this,!1);this.dispatchEvent(new O$(c));break;default:this.dispatchEvent(new F(a))}};
e.H=function(){K$.B.H.call(this);la(this.xV)&&J(this.xV);this.NL.V();delete this.NL;this.ECa&&(this.ECa.V(),delete this.ECa);this.LL&&(this.LL.V(),this.LL=null);this.Xva.V();delete this.Xva;this.Jha.V();delete this.Jha;delete this.ga;this.f_a.V();delete this.f_a;this.Xh.V();delete this.Xh;this.I&&(this.I.V(),this.I=null);this.xe&&(this.xe.V(),this.xe=null);this.Gh=this.eg=null;this.di.V();delete this.di;this.kT=this.v9=null};function i_a(){F.call(this,"beforeExecute")}w(i_a,F);
function h_a(a){F.call(this,"createItems");this.Kd=a}w(h_a,F);function m_a(a){F.call(this,"reloadSuggested");this.Syb=a}w(m_a,F);function n_a(a){var b=$M(id(a.Syb),"authkey"),c=window,d=HZa(id(c.location.href));b&&ed(d,"authkey",b);var f=d.toString();f!=id(c.location.href).toString()&&((a=a.target)&&a.V(),c.setTimeout(function(){c.location.href=f},0))}function O$(a){F.call(this,"aclFixerDone");this.mf=a}w(O$,F);O$.prototype.getStatus=function(){return this.mf};function P$(a){Ht.call(this,a);this.FCa={};a=mv(this.getContext());this.ka().listen(a,"qa",this.sg);this.xea=!1}w(P$,cQ);e=P$.prototype;e.hK=null;e.AV=null;e.$f=null;
e.execute=function(a){var b=a[0],c=a[1],d=a[2];a=a[3];var f=this.getContext(),g;g=b&&ja(b)?(b=Gl(b))?[b]:[]:b?[b]:du(this.getContext().$);b=g.length;if(0==b)xM(this.We());else{this.hK=new qe;f.J();for(f=0;f<b;f++){var h=g[f];$k(h,"shareable")||this.hK.add(h.getId())}f=this.hK.ra();if(h=hKa(g)){var k;if(!this.FCa[h]){var n=this.getContext().J(),q=void 0,t;if(t=null!=K(n,64)?K(n,64):!1)q=new F$,k=new y$,q.WAa(k,"top");q=this.FCa[h]=new K$(n.Jh(),n.k6a,n.d$,void 0,void 0,0,h,void 0,void 0,void 0,q);
null!=K(n,124)&&K(n,124)?q.UF("/sharing/share"):q.UF("share");t&&(k=new z$(q,k.yB),y(this,k));this.ka().listen(q,"aclInfoUpdated",this.jlb);this.ka().listen(q,"uiClosed",this.nlb)}k=this.FCa[h];h=[];for(n=0;n<g.length;n++)h.push(g[n].zj);g=ha(h)?h:[h];tb(g);ub(g);h=k.eg;k.Ay&&wb(g,h)||(k.eg=g,k.Ay=!1,k.QZ=!1,k.Wca=0,k.kt("refresh"),k.Xh.aa()&&k_a(k,!1));p(d)?(this.xea=!a,k.uQa(d)):0<f?b==f?dQ(this,"em",1==b?"You do not have permission to share the item selected.":"You do not have permission to share the items selected."):
(c=this.AV,c||(c=this.AV=new kt,a=new qt,a.set("ok","OK",!0),a.set("cancel","Cancel",!1,!0),c.dc(a),P(LM(c),!1),this.ka().listen(c,"dialogselect",this.ceb)),c.Tb("You do not have permission to share "+(f+" of the items selected. Click OK to select only the sharable items.")),c.O(!0)):(d={},c&&m.parent==m&&null==m.frameElement&&(b={},c&&(b.recipient=c),d.notificationInfo=b),this.xea=!a,k.kt("invite",d))}else at(this.getContext()).qc("The selected items can not be shared together. Please select one and try again,",
"m")}};e.ceb=function(a){switch(a.key){case "ok":this.getContext().$.Ss(this.hK)}};e.jlb=function(a){a.target&&(a=a.target.eg)&&0<a.length&&(this.$f=new DB(a),Tm(mv(this.getContext()),this.$f))};e.sg=function(a){if(this.$f&&this.$f.oa()==a.request.oa()){a=a.response;var b=a.Jw()||As(at(this.getContext()));a.getError()?dQ(this,"em",b):(b=this.$f.tc,b.length!=a.ud().length&&(a=ab(a.ud(),function(a){return a.getId()}),b=new qe(b),b.removeAll(a),a=b.Qa(),a=Hl(a),vM(this.We(),a,this.dyb)))}};
e.nlb=function(){this.xea&&(JH(this.getContext()).dispatchEvent("r"),this.xea=!1)};e.dyb=function(a){a.x2("deleted",!0)};e.H=function(){P$.B.H.call(this);this.hK&&(this.hK.clear(),this.hK=null);this.AV&&(this.AV.V(),delete this.AV);this.$f=null};Jt(38,function(a){return new P$(a)});function o_a(){x.call(this)}w(o_a,OX);o_a.prototype.initialize=function(){};kf(jf.X(),"appsshare").Qu(o_a);jf.X().Pu("appsshare");YM();
